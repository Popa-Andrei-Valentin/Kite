{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Popa Andrei/Desktop/kite-surfing/kite/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"C:/Users/Popa Andrei/Desktop/kite-surfing/kite/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Popa Andrei/Desktop/kite-surfing/kite/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Popa Andrei\\\\Desktop\\\\kite-surfing\\\\kite\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{useState,useEffect}from\"react\";import{BsArrowDownShort,BsArrowUpShort}from\"react-icons/bs\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Table=function Table(_ref){var spot=_ref.spot,setSpots=_ref.setSpots,fetchSpots=_ref.fetchSpots;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),searchTerm=_useState2[0],setSearchTerm=_useState2[1];var _useState3=useState(\"ASC\"),_useState4=_slicedToArray(_useState3,2),order=_useState4[0],setOrder=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),orderArrow=_useState6[0],setArrow=_useState6[1];useEffect(function(){var getSpots=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var spotsFromServer;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetchSpots();case 2:spotsFromServer=_context.sent;setSpots(spotsFromServer);case 4:case\"end\":return _context.stop();}}},_callee);}));return function getSpots(){return _ref2.apply(this,arguments);};}();getSpots();},[]);// Sorting function\nvar sorting=function sorting(col){if(order===\"ASC\"){var sorted=_toConsumableArray(spot).sort(function(a,b){return a[col].toLowerCase()>b[col].toLowerCase()?1:-1;});setSpots(sorted);setArrow(\"up\");setOrder(\"DSC\");}if(order===\"DSC\"){var _sorted=_toConsumableArray(spot).sort(function(a,b){return a[col].toLowerCase()<b[col].toLowerCase()?1:-1;});setSpots(_sorted);setArrow(\"down\");setOrder(\"ASC\");}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center justify-center pt-7\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-semibold pb-2\",children:\"Locations\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search name,country & month...\",className:\"p-2  border-2 rounded-md\",onChange:function onChange(event){setSearchTerm(event.target.value);}})]}),/*#__PURE__*/_jsx(\"div\",{className:\" flex justify-center py-7 relative overflow-x-auto shadow-md sm:rounded-lg \",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-[95vw] text-sm text-left text-gray-500 dark:text-gray-400\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"text-xs  bg-gray-700 text-gray-400\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3\",onClick:function onClick(){return sorting(\"name\");},children:\"NAME\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3\",onClick:function onClick(){return sorting(\"country\");},children:\"COUNTRY\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3\",onClick:function onClick(){return sorting(\"lat\");},children:\"LATITUDE\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3\",onClick:function onClick(){return sorting(\"long\");},children:\"LONGITUDE\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3\",onClick:function onClick(){return sorting(\"probability\");},children:\"WIND PROB.\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3\",onClick:function onClick(){return sorting(\"month\");},children:\"WHEN TO GO\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-gray-800 border-b border-gray-700 hover:bg-gray-50\",children:Array.isArray(spot)?spot.filter(function(spot){// Search function\nif(searchTerm==\"\"){return spot;}else if(// Searching location name\nspot.name.toLowerCase().includes(searchTerm.toLowerCase())||// Searching location country\nspot.country.toLowerCase().includes(searchTerm.toLowerCase())||// Searching month to go\nspot.month.toLowerCase().includes(searchTerm.toLowerCase())){return spot;}}).map(function(spot){return/*#__PURE__*/_jsxs(\"tr\",{className:spot.favourite?\"bg-yellow-300\":\"bg-gray-200\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 font-medium text-gray-900  whitespace-nowrap\",children:spot.name}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 text-gray-700\",children:spot.country}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 text-gray-700\",children:spot.lat}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 text-gray-700\",children:spot.long}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 text-gray-700\",children:[spot.probability,\"%\"]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 text-gray-700\",children:spot.month})]},spot.id);}):null})]})})]});};Table.defaultProps={currentSort:\"default\"};export default Table;","map":{"version":3,"sources":["C:/Users/Popa Andrei/Desktop/kite-surfing/kite/src/components/Table.js"],"names":["useState","useEffect","BsArrowDownShort","BsArrowUpShort","Table","spot","setSpots","fetchSpots","searchTerm","setSearchTerm","order","setOrder","orderArrow","setArrow","getSpots","spotsFromServer","sorting","col","sorted","sort","a","b","toLowerCase","event","target","value","Array","isArray","filter","name","includes","country","month","map","favourite","lat","long","probability","id","defaultProps","currentSort"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { BsArrowDownShort, BsArrowUpShort } from \"react-icons/bs\";\r\n\r\nconst Table = ({ spot, setSpots, fetchSpots }) => {\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [order, setOrder] = useState(\"ASC\");\r\n  const [orderArrow, setArrow] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const getSpots = async () => {\r\n      const spotsFromServer = await fetchSpots();\r\n\r\n      setSpots(spotsFromServer);\r\n    };\r\n    getSpots();\r\n  }, []);\r\n  // Sorting function\r\n  const sorting = (col) => {\r\n    if (order === \"ASC\") {\r\n      const sorted = [...spot].sort((a, b) =>\r\n        a[col].toLowerCase() > b[col].toLowerCase() ? 1 : -1\r\n      );\r\n      setSpots(sorted);\r\n      setArrow(\"up\");\r\n      setOrder(\"DSC\");\r\n    }\r\n    if (order === \"DSC\") {\r\n      const sorted = [...spot].sort((a, b) =>\r\n        a[col].toLowerCase() < b[col].toLowerCase() ? 1 : -1\r\n      );\r\n      setSpots(sorted);\r\n      setArrow(\"down\");\r\n      setOrder(\"ASC\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"flex flex-col items-center justify-center pt-7\">\r\n        <h1 className=\"text-2xl font-semibold pb-2\">Locations</h1>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Search name,country & month...\"\r\n          className=\"p-2  border-2 rounded-md\"\r\n          onChange={(event) => {\r\n            setSearchTerm(event.target.value);\r\n          }}\r\n        />\r\n      </div>\r\n      <div className=\" flex justify-center py-7 relative overflow-x-auto shadow-md sm:rounded-lg \">\r\n        <table className=\"w-[95vw] text-sm text-left text-gray-500 dark:text-gray-400\">\r\n          <thead className=\"text-xs  bg-gray-700 text-gray-400\">\r\n            <tr>\r\n              <th className=\"px-6 py-3\" onClick={() => sorting(\"name\")}>\r\n                NAME\r\n              </th>\r\n              <th className=\"px-6 py-3\" onClick={() => sorting(\"country\")}>\r\n                COUNTRY\r\n              </th>\r\n              <th className=\"px-6 py-3\" onClick={() => sorting(\"lat\")}>\r\n                LATITUDE\r\n              </th>\r\n              <th className=\"px-6 py-3\" onClick={() => sorting(\"long\")}>\r\n                LONGITUDE\r\n              </th>\r\n              <th className=\"px-6 py-3\" onClick={() => sorting(\"probability\")}>\r\n                WIND PROB.\r\n              </th>\r\n              <th className=\"px-6 py-3\" onClick={() => sorting(\"month\")}>\r\n                WHEN TO GO\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody className=\"bg-gray-800 border-b border-gray-700 hover:bg-gray-50\">\r\n            {/* Checking if API fetch is done */}\r\n            {Array.isArray(spot)\r\n              ? spot\r\n                  .filter((spot) => {\r\n                    // Search function\r\n                    if (searchTerm == \"\") {\r\n                      return spot;\r\n                    } else if (\r\n                      // Searching location name\r\n                      spot.name\r\n                        .toLowerCase()\r\n                        .includes(searchTerm.toLowerCase()) ||\r\n                      // Searching location country\r\n                      spot.country\r\n                        .toLowerCase()\r\n                        .includes(searchTerm.toLowerCase()) ||\r\n                      // Searching month to go\r\n                      spot.month\r\n                        .toLowerCase()\r\n                        .includes(searchTerm.toLowerCase())\r\n                    ) {\r\n                      return spot;\r\n                    }\r\n                  })\r\n                  .map((spot) => (\r\n                    <tr\r\n                      key={spot.id}\r\n                      className={\r\n                        spot.favourite ? \"bg-yellow-300\" : \"bg-gray-200\"\r\n                      }\r\n                    >\r\n                      <th className=\"px-6 py-4 font-medium text-gray-900  whitespace-nowrap\">\r\n                        {spot.name}\r\n                      </th>\r\n                      <td className=\"px-6 py-4 text-gray-700\">\r\n                        {spot.country}\r\n                      </td>\r\n                      <td className=\"px-6 py-4 text-gray-700\">{spot.lat}</td>\r\n                      <td className=\"px-6 py-4 text-gray-700\">{spot.long}</td>\r\n                      <td className=\"px-6 py-4 text-gray-700\">\r\n                        {spot.probability}%\r\n                      </td>\r\n                      <td className=\"px-6 py-4 text-gray-700\">{spot.month}</td>\r\n                    </tr>\r\n                  ))\r\n              : null}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nTable.defaultProps = {\r\n  currentSort: \"default\",\r\n};\r\nexport default Table;\r\n"]},"metadata":{},"sourceType":"module"}