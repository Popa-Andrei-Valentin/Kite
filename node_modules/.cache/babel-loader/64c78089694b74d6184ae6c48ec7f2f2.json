{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/Popa Andrei/Desktop/kite-surfing/kite/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Popa Andrei\\\\Desktop\\\\kite-surfing\\\\kite\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{text}from\"@fortawesome/fontawesome-svg-core\";import L from\"leaflet\";import{useEffect,useState}from\"react\";import{MapContainer,TileLayer,Marker,Popup}from\"react-leaflet\";import Button from\"./Button\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Spots=function Spots(_ref){var spot=_ref.spot,fetchSpots=_ref.fetchSpots,toggleFavorite=_ref.toggleFavorite,setSpots=_ref.setSpots;var goldIcon=new L.Icon({iconUrl:\"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-gold.png\",shadowUrl:\"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png\",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});var blueIcon=new L.Icon({iconUrl:\"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png\",shadowUrl:\"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png\",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});useEffect(function(){var getSpots=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var spotsFromServer;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetchSpots();case 2:spotsFromServer=_context.sent;setSpots(spotsFromServer);case 4:case\"end\":return _context.stop();}}},_callee);}));return function getSpots(){return _ref2.apply(this,arguments);};}();getSpots();},[]);return/*#__PURE__*/_jsx(_Fragment,{children:Array.isArray(spot)?spot.map(function(spot){return/*#__PURE__*/_jsx(Marker,{position:[spot.lat,spot.long],icon:spot.favourite?goldIcon:blueIcon,children:/*#__PURE__*/_jsxs(Popup,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"font-sans font-bold text-base\",children:spot.name}),/*#__PURE__*/_jsx(\"h3\",{className:\"font-sans font-bold text-base\",children:spot.country}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-sans font-medium text-slate-400  m-0\",children:[\"WIND PROBABILITY:\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-sans font-bold text-base text-black\",children:[spot.probability,\"%\"]})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-sans font-medium text-slate-400  m-0\",children:[\"LONGITUDE:\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"font-sans font-bold text-base text-black\",children:spot.long})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-sans font-medium text-slate-400  m-0\",children:[\"LATITUDE:\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"font-sans font-bold text-base text-black\",children:spot.lat})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-sans font-medium text-slate-400  m-0\",children:[\"WHEN TO GO:\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"font-sans font-bold text-base text-black\",children:spot.month})]}),/*#__PURE__*/_jsx(\"button\",{className:spot.favourite?\"bg-red-400 font-sans text-black text-base rounded px-2 py-[0.15rem] hover:bg-red-500\":\"bg-yellow-400 font-sans text-black text-base rounded px-2 py-[0.15rem] hover:bg-yellow-500\",onClick:function onClick(){toggleFavorite(spot.id);},children:spot.favourite?\"Delete from favourite\":\"Add to favourite\"})]})},spot.id);}):null});};export default Spots;","map":{"version":3,"sources":["C:/Users/Popa Andrei/Desktop/kite-surfing/kite/src/components/Spots.js"],"names":["text","L","useEffect","useState","MapContainer","TileLayer","Marker","Popup","Button","Spots","spot","fetchSpots","toggleFavorite","setSpots","goldIcon","Icon","iconUrl","shadowUrl","iconSize","iconAnchor","popupAnchor","shadowSize","blueIcon","getSpots","spotsFromServer","Array","isArray","map","lat","long","favourite","name","country","probability","month","id"],"mappings":"qRAAA,OAASA,IAAT,KAAqB,mCAArB,CACA,MAAOC,CAAAA,CAAP,KAAc,SAAd,CACA,OAASC,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,YAAT,CAAuBC,SAAvB,CAAkCC,MAAlC,CAA0CC,KAA1C,KAAuD,eAAvD,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,C,6IAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,MAAoD,IAAjDC,CAAAA,IAAiD,MAAjDA,IAAiD,CAA3CC,UAA2C,MAA3CA,UAA2C,CAA/BC,cAA+B,MAA/BA,cAA+B,CAAfC,QAAe,MAAfA,QAAe,CAChE,GAAIC,CAAAA,QAAQ,CAAG,GAAIb,CAAAA,CAAC,CAACc,IAAN,CAAW,CACxBC,OAAO,CACL,oGAFsB,CAGxBC,SAAS,CACP,+EAJsB,CAKxBC,QAAQ,CAAE,CAAC,EAAD,CAAK,EAAL,CALc,CAMxBC,UAAU,CAAE,CAAC,EAAD,CAAK,EAAL,CANY,CAOxBC,WAAW,CAAE,CAAC,CAAD,CAAI,CAAC,EAAL,CAPW,CAQxBC,UAAU,CAAE,CAAC,EAAD,CAAK,EAAL,CARY,CAAX,CAAf,CAUA,GAAIC,CAAAA,QAAQ,CAAG,GAAIrB,CAAAA,CAAC,CAACc,IAAN,CAAW,CACxBC,OAAO,CACL,oGAFsB,CAGxBC,SAAS,CACP,+EAJsB,CAKxBC,QAAQ,CAAE,CAAC,EAAD,CAAK,EAAL,CALc,CAMxBC,UAAU,CAAE,CAAC,EAAD,CAAK,EAAL,CANY,CAOxBC,WAAW,CAAE,CAAC,CAAD,CAAI,CAAC,EAAL,CAPW,CAQxBC,UAAU,CAAE,CAAC,EAAD,CAAK,EAAL,CARY,CAAX,CAAf,CAWAnB,SAAS,CAAC,UAAM,CACd,GAAMqB,CAAAA,QAAQ,2FAAG,6KACeZ,CAAAA,UAAU,EADzB,QACTa,eADS,eAGfX,QAAQ,CAACW,eAAD,CAAR,CAHe,sDAAH,kBAARD,CAAAA,QAAQ,2CAAd,CAKAA,QAAQ,GACT,CAPQ,CAON,EAPM,CAAT,CASA,mBACE,yBACGE,KAAK,CAACC,OAAN,CAAchB,IAAd,EACGA,IAAI,CAACiB,GAAL,CAAS,SAACjB,IAAD,qBACP,KAAC,MAAD,EAEE,QAAQ,CAAE,CAACA,IAAI,CAACkB,GAAN,CAAWlB,IAAI,CAACmB,IAAhB,CAFZ,CAGE,IAAI,CAAEnB,IAAI,CAACoB,SAAL,CAAiBhB,QAAjB,CAA4BQ,QAHpC,uBAKE,MAAC,KAAD,yBACE,WAAI,SAAS,CAAC,+BAAd,UAA+CZ,IAAI,CAACqB,IAApD,EADF,cAEE,WAAI,SAAS,CAAC,+BAAd,UACGrB,IAAI,CAACsB,OADR,EAFF,cAKE,WAAG,SAAS,CAAC,2CAAb,4CAEE,aAFF,cAGE,cAAM,SAAS,CAAC,0CAAhB,WACGtB,IAAI,CAACuB,WADR,OAHF,GALF,cAaE,WAAG,SAAS,CAAC,2CAAb,qCAEE,aAFF,cAGE,aAAM,SAAS,CAAC,0CAAhB,UACGvB,IAAI,CAACmB,IADR,EAHF,GAbF,cAoBE,WAAG,SAAS,CAAC,2CAAb,oCAEE,aAFF,cAGE,aAAM,SAAS,CAAC,0CAAhB,UACGnB,IAAI,CAACkB,GADR,EAHF,GApBF,cA2BE,WAAG,SAAS,CAAC,2CAAb,sCAEE,aAFF,cAGE,aAAM,SAAS,CAAC,0CAAhB,UACGlB,IAAI,CAACwB,KADR,EAHF,GA3BF,cAoCE,eACE,SAAS,CACPxB,IAAI,CAACoB,SAAL,CACI,sFADJ,CAEI,4FAJR,CAME,OAAO,CAAE,kBAAM,CACblB,cAAc,CAACF,IAAI,CAACyB,EAAN,CAAd,CACD,CARH,UAUGzB,IAAI,CAACoB,SAAL,CACG,uBADH,CAEG,kBAZN,EApCF,GALF,EACOpB,IAAI,CAACyB,EADZ,CADO,EAAT,CADH,CA4DG,IA7DN,EADF,CAiED,CAhGD,CAkGA,cAAe1B,CAAAA,KAAf","sourcesContent":["import { text } from \"@fortawesome/fontawesome-svg-core\";\r\nimport L from \"leaflet\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { MapContainer, TileLayer, Marker, Popup } from \"react-leaflet\";\r\nimport Button from \"./Button\";\r\n\r\nconst Spots = ({ spot, fetchSpots, toggleFavorite, setSpots }) => {\r\n  var goldIcon = new L.Icon({\r\n    iconUrl:\r\n      \"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-gold.png\",\r\n    shadowUrl:\r\n      \"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png\",\r\n    iconSize: [25, 41],\r\n    iconAnchor: [12, 41],\r\n    popupAnchor: [1, -34],\r\n    shadowSize: [41, 41],\r\n  });\r\n  var blueIcon = new L.Icon({\r\n    iconUrl:\r\n      \"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png\",\r\n    shadowUrl:\r\n      \"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png\",\r\n    iconSize: [25, 41],\r\n    iconAnchor: [12, 41],\r\n    popupAnchor: [1, -34],\r\n    shadowSize: [41, 41],\r\n  });\r\n\r\n  useEffect(() => {\r\n    const getSpots = async () => {\r\n      const spotsFromServer = await fetchSpots();\r\n\r\n      setSpots(spotsFromServer);\r\n    };\r\n    getSpots();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      {Array.isArray(spot)\r\n        ? spot.map((spot) => (\r\n            <Marker\r\n              key={spot.id}\r\n              position={[spot.lat, spot.long]}\r\n              icon={spot.favourite ? goldIcon : blueIcon}\r\n            >\r\n              <Popup>\r\n                <h1 className=\"font-sans font-bold text-base\">{spot.name}</h1>\r\n                <h3 className=\"font-sans font-bold text-base\">\r\n                  {spot.country}\r\n                </h3>\r\n                <p className=\"font-sans font-medium text-slate-400  m-0\">\r\n                  WIND PROBABILITY:\r\n                  <br />\r\n                  <span className=\"font-sans font-bold text-base text-black\">\r\n                    {spot.probability}%\r\n                  </span>\r\n                </p>\r\n\r\n                <p className=\"font-sans font-medium text-slate-400  m-0\">\r\n                  LONGITUDE:\r\n                  <br />\r\n                  <span className=\"font-sans font-bold text-base text-black\">\r\n                    {spot.long}\r\n                  </span>\r\n                </p>\r\n                <p className=\"font-sans font-medium text-slate-400  m-0\">\r\n                  LATITUDE:\r\n                  <br />\r\n                  <span className=\"font-sans font-bold text-base text-black\">\r\n                    {spot.lat}\r\n                  </span>\r\n                </p>\r\n                <p className=\"font-sans font-medium text-slate-400  m-0\">\r\n                  WHEN TO GO:\r\n                  <br />\r\n                  <span className=\"font-sans font-bold text-base text-black\">\r\n                    {spot.month}\r\n                  </span>\r\n                </p>\r\n                {/* Favorite OR Delete favorite btn */}\r\n\r\n                <button\r\n                  className={\r\n                    spot.favourite\r\n                      ? \"bg-red-400 font-sans text-black text-base rounded px-2 py-[0.15rem] hover:bg-red-500\"\r\n                      : \"bg-yellow-400 font-sans text-black text-base rounded px-2 py-[0.15rem] hover:bg-yellow-500\"\r\n                  }\r\n                  onClick={() => {\r\n                    toggleFavorite(spot.id);\r\n                  }}\r\n                >\r\n                  {spot.favourite\r\n                    ? \"Delete from favourite\"\r\n                    : \"Add to favourite\"}\r\n                </button>\r\n              </Popup>\r\n            </Marker>\r\n          ))\r\n        : null}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Spots;\r\n"]},"metadata":{},"sourceType":"module"}