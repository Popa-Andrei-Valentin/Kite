{"ast":null,"code":"import _objectSpread from\"C:/Users/Popa Andrei/Desktop/kite-surfing/kite/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"C:/Users/Popa Andrei/Desktop/kite-surfing/kite/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"C:/Users/Popa Andrei/Desktop/kite-surfing/kite/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Popa Andrei/Desktop/kite-surfing/kite/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Popa Andrei\\\\Desktop\\\\kite-surfing\\\\kite\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import Spots from\"./components/Spots\";import Table from\"./components/Table\";import\"./App.css\";import\"./components/Nav.css\";import{MapContainer,TileLayer,Marker,Popup}from\"react-leaflet\";import React,{useState,useEffect}from\"react\";import{BsFilterLeft}from\"react-icons/bs\";import Login from\"./components/Login\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function App(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),spot=_useState2[0],setSpots=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),spotTemp=_useState4[0],setSpotTemp=_useState4[1];// For loggedin status\nvar _useState5=useState(),_useState6=_slicedToArray(_useState5,2),login=_useState6[0],setLogin=_useState6[1];// For -- ADD SPOT -- //\nvar _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),showModal=_useState8[0],setShowModal=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),date=_useState10[0],setDate=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),name=_useState12[0],setLocation=_useState12[1];var _useState13=useState(),_useState14=_slicedToArray(_useState13,2),country=_useState14[0],setCountry=_useState14[1];// ---- //\n// For -- FILTER -- //\nvar _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),filterModal=_useState16[0],setFilterModal=_useState16[1];var _useState17=useState(),_useState18=_slicedToArray(_useState17,2),filterValue=_useState18[0],setFilterValue=_useState18[1];var _useState19=useState(),_useState20=_slicedToArray(_useState19,2),filterValueWind=_useState20[0],setFilterValueWind=_useState20[1];var _useState21=useState(),_useState22=_slicedToArray(_useState21,2),filterOn=_useState22[0],setFilterOn=_useState22[1];// ---- //\n// Add spot modal state\nvar _useState23=useState(false),_useState24=_slicedToArray(_useState23,2),addSpot=_useState24[0],setAddSpot=_useState24[1];// Fetching Spots Data\nuseEffect(function(){var getSpots=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var spotsFromServer,loginFromServer;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetchSpots();case 2:spotsFromServer=_context.sent;_context.next=5;return fetchLogin(1);case 5:loginFromServer=_context.sent;setLogin(loginFromServer.loggedin);setSpots(spotsFromServer);setSpotTemp(spot);case 9:case\"end\":return _context.stop();}}},_callee);}));return function getSpots(){return _ref.apply(this,arguments);};}();getSpots();},[]);var fetchSpots=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var res,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"https://6255722e8646add390d70c22.mockapi.io/spot\");case 2:res=_context2.sent;_context2.next=5;return res.json();case 5:data=_context2.sent;return _context2.abrupt(\"return\",data);case 7:case\"end\":return _context2.stop();}}},_callee2);}));return function fetchSpots(){return _ref2.apply(this,arguments);};}();// Fetch Spots by id\nvar fetchSpotsById=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id){var res,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(\"https://6255722e8646add390d70c22.mockapi.io/spot/\".concat(id));case 2:res=_context3.sent;_context3.next=5;return res.json();case 5:data=_context3.sent;return _context3.abrupt(\"return\",data);case 7:case\"end\":return _context3.stop();}}},_callee3);}));return function fetchSpotsById(_x){return _ref3.apply(this,arguments);};}();// -- ADD SPOT -- //\nvar handleSubmit=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(e){var arr,months,month_index,month,spotTemp,result,data;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:arr=date.split(\"-\");months=[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"];month_index=parseInt(arr[1],10)-1;month=months[month_index];spotTemp={name:name,country:country,month:month};_context4.next=7;return fetch(\"https://6255722e8646add390d70c22.mockapi.io/spot\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(spotTemp)});case 7:result=_context4.sent;_context4.next=10;return result.json();case 10:data=_context4.sent;setSpots([].concat(_toConsumableArray(spot),[data]));setSpotTemp(spot);setShowModal(false);case 14:case\"end\":return _context4.stop();}}},_callee4);}));return function handleSubmit(_x2){return _ref4.apply(this,arguments);};}();// ---- //\nvar letters=/[a-zA-Z]/;// -- FILTER DATA AND DISPLAY FUNCTION -- //\nvar filtered=function filtered(){if(letters.test(filterValue)){setSpotTemp(spot);setSpots(spot.filter(function(e){return e.country===filterValue;}));}};// ---- //\n// Fetch Login INFO\nvar fetchLogin=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(id){var res,data;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return fetch(\"https://6255722e8646add390d70c22.mockapi.io/login/\".concat(id));case 2:res=_context5.sent;_context5.next=5;return res.json();case 5:data=_context5.sent;return _context5.abrupt(\"return\",data);case 7:case\"end\":return _context5.stop();}}},_callee5);}));return function fetchLogin(_x3){return _ref5.apply(this,arguments);};}();var toggleLogin=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(id){var toToggle,updateLogin,res,data;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return fetchLogin(id);case 2:toToggle=_context6.sent;updateLogin=_objectSpread(_objectSpread({},toToggle),{},{loggedin:!toToggle.loggedin});_context6.next=6;return fetch(\"https://6255722e8646add390d70c22.mockapi.io/login/\".concat(id),{method:\"PUT\",headers:{\"Content-type\":\"application/json\"},body:JSON.stringify(updateLogin)});case 6:res=_context6.sent;_context6.next=9;return res.json();case 9:data=_context6.sent;console.log(data.loggedin);setLogin(data.loggedin);case 12:case\"end\":return _context6.stop();}}},_callee6);}));return function toggleLogin(_x4){return _ref6.apply(this,arguments);};}();// Toggle Favourite\nvar toggleFavorite=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(id){var spotToToggle,updSpot,res,data;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return fetchSpotsById(id);case 2:spotToToggle=_context7.sent;updSpot=_objectSpread(_objectSpread({},spotToToggle),{},{favourite:!spotToToggle.favourite});_context7.next=6;return fetch(\"https://6255722e8646add390d70c22.mockapi.io/spot/\".concat(id),{method:\"PUT\",headers:{\"Content-type\":\"application/json\"},body:JSON.stringify(updSpot)});case 6:res=_context7.sent;_context7.next=9;return res.json();case 9:data=_context7.sent;setSpots(spot.map(function(spot){return spot.id===id?_objectSpread(_objectSpread({},spot),{},{favourite:data.favourite}):spot;}));case 11:case\"end\":return _context7.stop();}}},_callee7);}));return function toggleFavorite(_x5){return _ref7.apply(this,arguments);};}();// LEAFLET\nvar outerBounds=[[50.505,-29.09],[52.505,29.09]];return/*#__PURE__*/_jsxs(\"div\",{children:[login===false?/*#__PURE__*/_jsx(Login,{toggleLogin:toggleLogin}):null,/*#__PURE__*/_jsxs(\"div\",{className:\"nav-container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"p-2 font-bold\",children:\"Kite\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"right-0 space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded\",type:\"button\",onClick:function onClick(){return setShowModal(true);},children:\"Add Spot\"}),showModal?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-100 justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative w-auto my-6 mx-auto max-w-3xl\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between p-5 border-b border-solid border-slate-200 rounded-t\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-3xl font-semibold\",children:\"Add New Spot\"}),/*#__PURE__*/_jsx(\"button\",{className:\"p-1 ml-auto bg-transparent border-0 text-black opacity-5 float-right text-3xl leading-none font-semibold outline-none focus:outline-none\",onClick:function onClick(){return setShowModal(false);},children:/*#__PURE__*/_jsx(\"span\",{className:\"bg-transparent text-black opacity-5 h-6 w-6 text-2xl block outline-none focus:outline-none\",children:\"\\xD7\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative p-6 flex-auto\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"p-2 font-semibold\",children:\"Location Name\"}),/*#__PURE__*/_jsx(\"input\",{className:\"px-2 py-1 border-2 rounded-md \",type:\"text\",placeholder:\"Enter location name...\",onChange:function onChange(e){var temp=e.target.value.toLocaleString(\"en-us\",{month:\"long\"});setLocation(temp);}}),/*#__PURE__*/_jsx(\"p\",{className:\"p-2 font-semibold \",children:\"Country\"}),/*#__PURE__*/_jsx(\"input\",{className:\"px-2 py-1 border-2 rounded-md\",type:\"text\",placeholder:\"Enter country...\",onChange:function onChange(e){setCountry(e.target.value);console.log(/\\d/.test(filterValueWind));}}),/*#__PURE__*/_jsx(\"p\",{className:\"p-2 font-semibold\",children:\"When to go \"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold\",children:\"from\"}),/*#__PURE__*/_jsx(\"input\",{className:\"bpx-2 py-1 border-2 rounded-md\",type:\"date\",onChange:function onChange(e){setDate(e.target.value);}}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold\",children:\"to\"}),/*#__PURE__*/_jsx(\"input\",{className:\"bpx-2 py-1 border-2 rounded-md\",type:\"date\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-end p-6 border-t border-solid border-slate-200 rounded-b\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"text-red-500 background-transparent font-bold uppercase px-6 py-2 text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150\",type:\"button\",onClick:function onClick(){return setShowModal(false);},children:\"Close\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-emerald-500 text-white active:bg-emerald-600 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150\",type:\"button\",onClick:function onClick(){handleSubmit();},children:\"Save Changes\"})]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"opacity-25 fixed inset-0 z-40 bg-black\"})]}):null,/*#__PURE__*/_jsx(\"button\",{className:\"bg-transparent hover:bg-red-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded\",onClick:function onClick(){toggleLogin(1);},children:\"Sign out\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"map\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"button\",{className:\"absolute z-10 px-5 py-1 right-0 mr-8 top-20 bg-white  shadow-md hover:shadow-xl hover:bg-blue-500 hover:text-white inline-block font-normal text-normal \",onClick:function onClick(){if(filterModal)setFilterModal(false);else{setFilterModal(true);}},children:[\"FILTERS \",/*#__PURE__*/_jsx(BsFilterLeft,{className:\"inline \"})]}),filterModal&&/*#__PURE__*/_jsxs(\"div\",{className:\"absolute z-10 bg-white shadow-md  px-5 py-2 right-0 mr-6 top-[7.5rem]\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Country\"}),/*#__PURE__*/_jsx(\"input\",{className:\"py-1 my-2\",type:\"text\",placeholder:\"Enter country...\",onChange:function onChange(e){setFilterValue(e.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{className:\" px-2 py-2 bg-white text-blue-500 border-2 rounded hover:bg-blue-500 hover:text-white inline-block font-medium text-sm \",onClick:function onClick(){setFilterOn(true);filtered();},children:\"APPLY FILTERS\"}),/*#__PURE__*/_jsx(\"button\",{className:\" px-2 py-2 bg-white text-blue-500 border-2 rounded hover:bg-blue-500 hover:text-white inline-block font-medium text-sm \",onClick:function onClick(){if(filterOn)setSpots(spotTemp);},children:\"DELETE FILTERS\"})]})]}),/*#__PURE__*/_jsxs(MapContainer,{center:{lat:51.505,lng:-0.09},zoom:3,maxZoom:10,zoomOut:1,className:\"map\",children:[/*#__PURE__*/_jsx(TileLayer,{attribution:\"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\",url:\"https://tiles.stadiamaps.com/tiles/outdoors/{z}/{x}/{y}{r}.png\",noWrap:true// url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n}),/*#__PURE__*/_jsx(Spots,{spot:spot,fetchSpots:fetchSpots,toggleFavorite:toggleFavorite,setSpots:setSpots})]})]}),login===true?/*#__PURE__*/_jsx(Table,{spot:spot,setSpots:setSpots,fetchSpots:fetchSpots}):null]});}export default App;","map":{"version":3,"sources":["C:/Users/Popa Andrei/Desktop/kite-surfing/kite/src/App.js"],"names":["Spots","Table","MapContainer","TileLayer","Marker","Popup","React","useState","useEffect","BsFilterLeft","Login","App","spot","setSpots","spotTemp","setSpotTemp","login","setLogin","showModal","setShowModal","date","setDate","name","setLocation","country","setCountry","filterModal","setFilterModal","filterValue","setFilterValue","filterValueWind","setFilterValueWind","filterOn","setFilterOn","addSpot","setAddSpot","getSpots","fetchSpots","spotsFromServer","fetchLogin","loginFromServer","loggedin","fetch","res","json","data","fetchSpotsById","id","handleSubmit","e","arr","split","months","month_index","parseInt","month","method","headers","body","JSON","stringify","result","letters","filtered","test","filter","toggleLogin","toToggle","updateLogin","console","log","toggleFavorite","spotToToggle","updSpot","favourite","map","outerBounds","temp","target","value","toLocaleString","lat","lng"],"mappings":"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","sourcesContent":["import Spots from \"./components/Spots\";\nimport Table from \"./components/Table\";\nimport \"./App.css\";\nimport \"./components/Nav.css\";\nimport { MapContainer, TileLayer, Marker, Popup } from \"react-leaflet\";\nimport React, { useState, useEffect } from \"react\";\nimport { BsFilterLeft } from \"react-icons/bs\";\nimport Login from \"./components/Login\";\n\nfunction App() {\n  const [spot, setSpots] = useState(null);\n  const [spotTemp, setSpotTemp] = useState();\n  // For loggedin status\n  const [login, setLogin] = useState();\n  // For -- ADD SPOT -- //\n  const [showModal, setShowModal] = useState(false);\n  const [date, setDate] = useState();\n  const [name, setLocation] = useState();\n  const [country, setCountry] = useState();\n  // ---- //\n\n  // For -- FILTER -- //\n  const [filterModal, setFilterModal] = useState(false);\n  const [filterValue, setFilterValue] = useState();\n  const [filterValueWind, setFilterValueWind] = useState();\n  const [filterOn, setFilterOn] = useState();\n  // ---- //\n\n  // Add spot modal state\n  const [addSpot, setAddSpot] = useState(false);\n\n  // Fetching Spots Data\n  useEffect(() => {\n    const getSpots = async () => {\n      const spotsFromServer = await fetchSpots();\n      const loginFromServer = await fetchLogin(1);\n      setLogin(loginFromServer.loggedin);\n      setSpots(spotsFromServer);\n      setSpotTemp(spot);\n    };\n    getSpots();\n  }, []);\n\n  const fetchSpots = async () => {\n    const res = await fetch(\"https://6255722e8646add390d70c22.mockapi.io/spot\");\n    const data = await res.json();\n    return data;\n  };\n\n  // Fetch Spots by id\n  const fetchSpotsById = async (id) => {\n    const res = await fetch(\n      `https://6255722e8646add390d70c22.mockapi.io/spot/${id}`\n    );\n    const data = await res.json();\n    return data;\n  };\n\n  // -- ADD SPOT -- //\n  const handleSubmit = async (e) => {\n    var arr = date.split(\"-\");\n    var months = [\n      \"January\",\n      \"February\",\n      \"March\",\n      \"April\",\n      \"May\",\n      \"June\",\n      \"July\",\n      \"August\",\n      \"September\",\n      \"October\",\n      \"November\",\n      \"December\",\n    ];\n    var month_index = parseInt(arr[1], 10) - 1;\n    const month = months[month_index];\n\n    const spotTemp = { name, country, month };\n\n    const result = await fetch(\n      \"https://6255722e8646add390d70c22.mockapi.io/spot\",\n      {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(spotTemp),\n      }\n    );\n    const data = await result.json();\n    setSpots([...spot, data]);\n    setSpotTemp(spot);\n    setShowModal(false);\n  };\n  // ---- //\n  const letters = /[a-zA-Z]/;\n\n  // -- FILTER DATA AND DISPLAY FUNCTION -- //\n  const filtered = () => {\n    if (letters.test(filterValue)) {\n      setSpotTemp(spot);\n      setSpots(spot.filter((e) => e.country === filterValue));\n    }\n  };\n\n  // ---- //\n  // Fetch Login INFO\n  const fetchLogin = async (id) => {\n    const res = await fetch(\n      `https://6255722e8646add390d70c22.mockapi.io/login/${id}`\n    );\n    const data = await res.json();\n    // setLogin(data.loggedin);\n    return data;\n  };\n\n  const toggleLogin = async (id) => {\n    const toToggle = await fetchLogin(id);\n    const updateLogin = { ...toToggle, loggedin: !toToggle.loggedin };\n\n    const res = await fetch(\n      `https://6255722e8646add390d70c22.mockapi.io/login/${id}`,\n      {\n        method: \"PUT\",\n        headers: {\n          \"Content-type\": \"application/json\",\n        },\n        body: JSON.stringify(updateLogin),\n      }\n    );\n    const data = await res.json();\n    console.log(data.loggedin);\n    setLogin(data.loggedin);\n  };\n  // Toggle Favourite\n\n  const toggleFavorite = async (id) => {\n    const spotToToggle = await fetchSpotsById(id);\n    const updSpot = { ...spotToToggle, favourite: !spotToToggle.favourite };\n\n    const res = await fetch(\n      `https://6255722e8646add390d70c22.mockapi.io/spot/${id}`,\n      {\n        method: \"PUT\",\n        headers: {\n          \"Content-type\": \"application/json\",\n        },\n        body: JSON.stringify(updSpot),\n      }\n    );\n\n    const data = await res.json();\n\n    setSpots(\n      spot.map((spot) =>\n        spot.id === id\n          ? {\n              ...spot,\n              favourite: data.favourite,\n            }\n          : spot\n      )\n    );\n  };\n  // LEAFLET\n  const outerBounds = [\n    [50.505, -29.09],\n    [52.505, 29.09],\n  ];\n\n  return (\n    <div>\n      {login === false ? <Login toggleLogin={toggleLogin} /> : null}\n      {/* Logo + Add Spot Button + Sign Out Button */}\n      <div className=\"nav-container\">\n        <h1 className=\"p-2 font-bold\">Kite</h1>\n        <div className=\"right-0 space-x-4\">\n          {/* -- Add Spot Button -- */}\n          <button\n            className=\"bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded\"\n            type=\"button\"\n            onClick={() => setShowModal(true)}\n          >\n            Add Spot\n          </button>\n          {showModal ? (\n            <>\n              <div className=\"w-100 justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none\">\n                <div className=\"relative w-auto my-6 mx-auto max-w-3xl\">\n                  {/*content*/}\n                  <div className=\"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none\">\n                    {/*header*/}\n                    <div className=\"flex items-start justify-between p-5 border-b border-solid border-slate-200 rounded-t\">\n                      <h3 className=\"text-3xl font-semibold\">Add New Spot</h3>\n                      <button\n                        className=\"p-1 ml-auto bg-transparent border-0 text-black opacity-5 float-right text-3xl leading-none font-semibold outline-none focus:outline-none\"\n                        onClick={() => setShowModal(false)}\n                      >\n                        <span className=\"bg-transparent text-black opacity-5 h-6 w-6 text-2xl block outline-none focus:outline-none\">\n                          ×\n                        </span>\n                      </button>\n                    </div>\n                    {/*body*/}\n                    <div className=\"relative p-6 flex-auto\">\n                      <p className=\"p-2 font-semibold\">Location Name</p>\n                      <input\n                        className=\"px-2 py-1 border-2 rounded-md \"\n                        type=\"text\"\n                        placeholder=\"Enter location name...\"\n                        onChange={(e) => {\n                          let temp = e.target.value.toLocaleString(\"en-us\", {\n                            month: \"long\",\n                          });\n                          setLocation(temp);\n                        }}\n                      ></input>\n                      <p className=\"p-2 font-semibold \">Country</p>\n                      <input\n                        className=\"px-2 py-1 border-2 rounded-md\"\n                        type=\"text\"\n                        placeholder=\"Enter country...\"\n                        onChange={(e) => {\n                          setCountry(e.target.value);\n                          console.log(/\\d/.test(filterValueWind));\n                        }}\n                      ></input>\n                      <p className=\"p-2 font-semibold\">When to go </p>\n                      {/* Date picker */}\n                      <p className=\"font-semibold\">from</p>\n                      <input\n                        className=\"bpx-2 py-1 border-2 rounded-md\"\n                        type=\"date\"\n                        onChange={(e) => {\n                          setDate(e.target.value);\n                        }}\n                      />\n                      <p className=\"font-semibold\">to</p>\n                      <input\n                        className=\"bpx-2 py-1 border-2 rounded-md\"\n                        type=\"date\"\n                      />\n                    </div>\n\n                    {/*Button (add spot) footer*/}\n                    <div className=\"flex items-center justify-end p-6 border-t border-solid border-slate-200 rounded-b\">\n                      <button\n                        className=\"text-red-500 background-transparent font-bold uppercase px-6 py-2 text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150\"\n                        type=\"button\"\n                        onClick={() => setShowModal(false)}\n                      >\n                        Close\n                      </button>\n                      <button\n                        className=\"bg-emerald-500 text-white active:bg-emerald-600 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150\"\n                        type=\"button\"\n                        onClick={() => {\n                          handleSubmit();\n                        }}\n                      >\n                        Save Changes\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div className=\"opacity-25 fixed inset-0 z-40 bg-black\"></div>\n            </>\n          ) : null}\n          <button\n            className=\"bg-transparent hover:bg-red-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded\"\n            onClick={() => {\n              toggleLogin(1);\n            }}\n          >\n            Sign out\n          </button>\n        </div>\n      </div>\n      {/* //---// */}\n      {/* Leaflet contaienr start*/}\n      <div className=\"map\">\n        {/* Filter on map */}\n        <div>\n          <button\n            className=\"absolute z-10 px-5 py-1 right-0 mr-8 top-20 bg-white  shadow-md hover:shadow-xl hover:bg-blue-500 hover:text-white inline-block font-normal text-normal \"\n            onClick={() => {\n              if (filterModal) setFilterModal(false);\n              else {\n                setFilterModal(true);\n              }\n            }}\n          >\n            FILTERS <BsFilterLeft className=\"inline \" />\n          </button>\n\n          {/* Filter on CLICK modal */}\n          {filterModal && (\n            <div\n              className=\"absolute z-10 bg-white shadow-md \n         px-5 py-2 right-0 mr-6 top-[7.5rem]\"\n            >\n              <p>Country</p>\n              <input\n                className=\"py-1 my-2\"\n                type=\"text\"\n                placeholder=\"Enter country...\"\n                onChange={(e) => {\n                  setFilterValue(e.target.value);\n                }}\n              />\n              {/* <p>Wind Prob.</p>\n              <input\n                className=\"py-1 my-2\"\n                type=\"text\"\n                placeholder=\"Enter wind...\"\n                onChange={(e) => {\n                  setFilterValueWind(e.target.value);\n                }}\n              /> */}\n              <br />\n              <button\n                className=\" px-2 py-2 bg-white text-blue-500 border-2 rounded hover:bg-blue-500 hover:text-white inline-block font-medium text-sm \"\n                onClick={() => {\n                  setFilterOn(true);\n                  filtered();\n                }}\n              >\n                APPLY FILTERS\n              </button>\n              <button\n                className=\" px-2 py-2 bg-white text-blue-500 border-2 rounded hover:bg-blue-500 hover:text-white inline-block font-medium text-sm \"\n                onClick={() => {\n                  if (filterOn) setSpots(spotTemp);\n                }}\n              >\n                DELETE FILTERS\n              </button>\n            </div>\n          )}\n\n          {/* //--// */}\n        </div>\n        {/* //---// */}\n        <MapContainer\n          center={{ lat: 51.505, lng: -0.09 }}\n          zoom={3}\n          maxZoom={10}\n          zoomOut={1}\n          className=\"map\"\n        >\n          <TileLayer\n            attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n            url=\"https://tiles.stadiamaps.com/tiles/outdoors/{z}/{x}/{y}{r}.png\"\n            noWrap={true}\n            // url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n          />\n          <Spots\n            spot={spot}\n            fetchSpots={fetchSpots}\n            toggleFavorite={toggleFavorite}\n            setSpots={setSpots}\n          />\n        </MapContainer>\n      </div>\n      {/* Leaftlet container end */}\n\n      {login === true ? (\n        <Table spot={spot} setSpots={setSpots} fetchSpots={fetchSpots} />\n      ) : null}\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}