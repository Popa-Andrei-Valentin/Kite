{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Popa Andrei\\\\Desktop\\\\kite-surfing\\\\kite\\\\src\\\\components\\\\Spots.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport { MapContainer, TileLayer, Marker, Popup } from \"react-leaflet\";\nimport Button from \"./Button\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Spots = _ref => {\n  _s();\n\n  let {\n    spot,\n    fetchSpots\n  } = _ref;\n  const [favorite, setFavorite] = useState(false);\n  let text = \"Add to favourite\";\n  let display = \"bg-yellow-400 text-black text-sm rounded px-2 py-[0.15rem] hover:bg-yellow-500 \"; // Toggle favorite in API\n\n  const toggleFavorite = async id => {\n    const spotToToggle = await fetchSpots(id);\n    const updateSpot = { ...spotToToggle,\n      favourite: !spotToToggle.favourite\n    };\n    const res = await fetch(`https://6255722e8646add390d70c22.mockapi.io/spot/${id}`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-type\": \"application/json\"\n      },\n      body: JSON.stringify(updateSpot)\n    });\n    const data = await res.json();\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: Array.isArray(spot) ? spot.map(spot => /*#__PURE__*/_jsxDEV(Marker, {\n      position: [spot.lat, spot.long],\n      children: /*#__PURE__*/_jsxDEV(Popup, {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: spot.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: spot.country\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"WIND PROBABILITY\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 19\n          }, this), spot.probability, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"LONGITUDE:\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 19\n          }, this), spot.long]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"LATITUDE:\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 19\n          }, this), spot.lat]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"WHEN TO GO:\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 19\n          }, this), spot.month]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 17\n        }, this), spot.favourite ? /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bg-red-400 text-black text-sm rounded px-2 py-[0.15rem] hover:bg-red-500 \",\n          onClick: () => {\n            toggleFavorite();\n          },\n          children: \"\\\"Remove from favorite\\\"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 19\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bg-yellow-400 text-black text-sm rounded px-2 py-[0.15rem] hover:bg-yellow-500 \",\n          onClick: () => {\n            toggleFavorite();\n          },\n          children: \"Add to favourite\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 15\n      }, this)\n    }, spot.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }, this)) : null\n  }, void 0, false);\n};\n\n_s(Spots, \"pnTz+MIYICEjwdqADjEdIT5omoo=\");\n\n_c = Spots;\nexport default Spots;\n\nvar _c;\n\n$RefreshReg$(_c, \"Spots\");","map":{"version":3,"sources":["C:/Users/Popa Andrei/Desktop/kite-surfing/kite/src/components/Spots.js"],"names":["useState","MapContainer","TileLayer","Marker","Popup","Button","Spots","spot","fetchSpots","favorite","setFavorite","text","display","toggleFavorite","id","spotToToggle","updateSpot","favourite","res","fetch","method","headers","body","JSON","stringify","data","json","Array","isArray","map","lat","long","name","country","probability","month"],"mappings":";;;AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,SAASC,YAAT,EAAuBC,SAAvB,EAAkCC,MAAlC,EAA0CC,KAA1C,QAAuD,eAAvD;AACA,OAAOC,MAAP,MAAmB,UAAnB;;;;AAEA,MAAMC,KAAK,GAAG,QAA0B;AAAA;;AAAA,MAAzB;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,GAAyB;AACtC,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BV,QAAQ,CAAC,KAAD,CAAxC;AACA,MAAIW,IAAI,GAAG,kBAAX;AACA,MAAIC,OAAO,GACT,iFADF,CAHsC,CAKtC;;AACA,QAAMC,cAAc,GAAG,MAAOC,EAAP,IAAc;AACnC,UAAMC,YAAY,GAAG,MAAMP,UAAU,CAACM,EAAD,CAArC;AACA,UAAME,UAAU,GAAG,EAAE,GAAGD,YAAL;AAAmBE,MAAAA,SAAS,EAAE,CAACF,YAAY,CAACE;AAA5C,KAAnB;AAEA,UAAMC,GAAG,GAAG,MAAMC,KAAK,CACpB,oDAAmDL,EAAG,EADlC,EAErB;AACEM,MAAAA,MAAM,EAAE,KADV;AAEEC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAFX;AAKEC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeR,UAAf;AALR,KAFqB,CAAvB;AAWA,UAAMS,IAAI,GAAG,MAAMP,GAAG,CAACQ,IAAJ,EAAnB;AACD,GAhBD;;AAkBA,sBACE;AAAA,cACGC,KAAK,CAACC,OAAN,CAAcrB,IAAd,IACGA,IAAI,CAACsB,GAAL,CAAUtB,IAAD,iBACP,QAAC,MAAD;AAAsB,MAAA,QAAQ,EAAE,CAACA,IAAI,CAACuB,GAAN,EAAWvB,IAAI,CAACwB,IAAhB,CAAhC;AAAA,6BACE,QAAC,KAAD;AAAA,gCACE;AAAA,oBAAKxB,IAAI,CAACyB;AAAV;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAA,oBAAKzB,IAAI,CAAC0B;AAAV;AAAA;AAAA;AAAA;AAAA,gBAFF,eAGE;AAAA,sDAEE;AAAA;AAAA;AAAA;AAAA,kBAFF,EAGG1B,IAAI,CAAC2B,WAHR;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHF,eAQE;AAAA,gDAEE;AAAA;AAAA;AAAA;AAAA,kBAFF,EAGG3B,IAAI,CAACwB,IAHR;AAAA;AAAA;AAAA;AAAA;AAAA,gBARF,eAaE;AAAA,+CAEE;AAAA;AAAA;AAAA;AAAA,kBAFF,EAGGxB,IAAI,CAACuB,GAHR;AAAA;AAAA;AAAA;AAAA;AAAA,gBAbF,eAkBE;AAAA,iDAEE;AAAA;AAAA;AAAA;AAAA,kBAFF,EAGGvB,IAAI,CAAC4B,KAHR;AAAA;AAAA;AAAA;AAAA;AAAA,gBAlBF,EAwBG5B,IAAI,CAACU,SAAL,gBACC;AACE,UAAA,SAAS,EAAC,2EADZ;AAEE,UAAA,OAAO,EAAE,MAAM;AACbJ,YAAAA,cAAc;AACf,WAJH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADD,gBAUC;AACE,UAAA,SAAS,EAAC,iFADZ;AAEE,UAAA,OAAO,EAAE,MAAM;AACbA,YAAAA,cAAc;AACf,WAJH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAlCJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADF,OAAaN,IAAI,CAACO,EAAlB;AAAA;AAAA;AAAA;AAAA,YADF,CADH,GAiDG;AAlDN,mBADF;AAsDD,CA9ED;;GAAMR,K;;KAAAA,K;AAgFN,eAAeA,KAAf","sourcesContent":["import { useState } from \"react\";\r\nimport { MapContainer, TileLayer, Marker, Popup } from \"react-leaflet\";\r\nimport Button from \"./Button\";\r\n\r\nconst Spots = ({ spot, fetchSpots }) => {\r\n  const [favorite, setFavorite] = useState(false);\r\n  let text = \"Add to favourite\";\r\n  let display =\r\n    \"bg-yellow-400 text-black text-sm rounded px-2 py-[0.15rem] hover:bg-yellow-500 \";\r\n  // Toggle favorite in API\r\n  const toggleFavorite = async (id) => {\r\n    const spotToToggle = await fetchSpots(id);\r\n    const updateSpot = { ...spotToToggle, favourite: !spotToToggle.favourite };\r\n\r\n    const res = await fetch(\r\n      `https://6255722e8646add390d70c22.mockapi.io/spot/${id}`,\r\n      {\r\n        method: \"PUT\",\r\n        headers: {\r\n          \"Content-type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(updateSpot),\r\n      }\r\n    );\r\n\r\n    const data = await res.json();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {Array.isArray(spot)\r\n        ? spot.map((spot) => (\r\n            <Marker key={spot.id} position={[spot.lat, spot.long]}>\r\n              <Popup>\r\n                <h1>{spot.name}</h1>\r\n                <h3>{spot.country}</h3>\r\n                <p>\r\n                  WIND PROBABILITY\r\n                  <br />\r\n                  {spot.probability}%\r\n                </p>\r\n                <p>\r\n                  LONGITUDE:\r\n                  <br />\r\n                  {spot.long}\r\n                </p>\r\n                <p>\r\n                  LATITUDE:\r\n                  <br />\r\n                  {spot.lat}\r\n                </p>\r\n                <p>\r\n                  WHEN TO GO:\r\n                  <br />\r\n                  {spot.month}\r\n                </p>\r\n                {/* Favorite OR Delete favorite btn */}\r\n                {spot.favourite ? (\r\n                  <button\r\n                    className=\"bg-red-400 text-black text-sm rounded px-2 py-[0.15rem] hover:bg-red-500 \"\r\n                    onClick={() => {\r\n                      toggleFavorite();\r\n                    }}\r\n                  >\r\n                    \"Remove from favorite\"\r\n                  </button>\r\n                ) : (\r\n                  <button\r\n                    className=\"bg-yellow-400 text-black text-sm rounded px-2 py-[0.15rem] hover:bg-yellow-500 \"\r\n                    onClick={() => {\r\n                      toggleFavorite();\r\n                    }}\r\n                  >\r\n                    Add to favourite\r\n                  </button>\r\n                )}\r\n              </Popup>\r\n            </Marker>\r\n          ))\r\n        : null}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Spots;\r\n"]},"metadata":{},"sourceType":"module"}